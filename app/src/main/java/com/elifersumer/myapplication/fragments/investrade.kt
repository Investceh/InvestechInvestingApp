package com.elifersumer.myapplication.fragments

import android.os.Bundle
import android.util.Log
import androidx.fragment.app.Fragment
import android.view.LayoutInflater
import android.view.View
import android.view.ViewGroup
import android.widget.ArrayAdapter
import com.elifersumer.myapplication.R
import com.github.mikephil.charting.charts.LineChart
import com.github.mikephil.charting.charts.PieChart
import com.github.mikephil.charting.data.Entry
import com.github.mikephil.charting.data.LineData
import com.github.mikephil.charting.data.LineDataSet
import com.github.mikephil.charting.data.PieEntry
import kotlinx.android.synthetic.main.fragment_emirgiris.view.*
import kotlinx.android.synthetic.main.fragment_investrade.view.*


class investrade : Fragment() {
    private lateinit var lineChart : LineChart

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        val view = inflater.inflate(R.layout.fragment_investrade, container, false)
        val arrayname = arrayOf("BIST100","BIST030","USD/TRY","EUR/TRY","EUR/USD","AKBNK")
        var arrayAdapter = ArrayAdapter(requireContext(),R.layout.dropdown_item, arrayname)
        view.Enstruman.setAdapter(arrayAdapter)

        val arrayname2 = arrayOf("Model1","Model2","Model3")
        var arrayAdapter2 = ArrayAdapter(requireContext(),R.layout.dropdown_item, arrayname2)
        view.Model.setAdapter(arrayAdapter2)

        val arrayname3 = arrayOf("%0","%25","%50","%75","%100")
        var arrayAdapter3 = ArrayAdapter(requireContext(),R.layout.dropdown_item, arrayname3)
        view.portfoyAgr.setAdapter(arrayAdapter3)




        // Inflate the layout for this fragment
        return view.rootView
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)
        lineChart = view.findViewById(R.id.lineChart) as LineChart
        lineChart.setNoDataText("Veriler YÃ¼kleniyor");
        lineChart.invalidate()
        setDataToLine()

    }

    fun setDataToLine(){
        val dataEntries = ArrayList<Entry>()
        val arrayname3 = arrayOf(1169.08 ,
            1157.49 ,
            1184.85 ,
            1193.39 ,
            1187.13 ,
            1157.94 ,
            1148.09 ,
            1183.99 ,
            1177.41 ,
            1188.08 ,
            1187.86 ,
            1192.81 ,
            1180.42 ,
            1180.8 ,
            1190.31 ,
            1192.02 ,
            1195.67 ,
            1152.7 ,
            1135.55 ,
            1126.9 ,
            1087.16 ,
            1091.8 ,
            1034.4 ,
            1060.59 ,
            1075.52 ,
            1110.05 ,
            1114.18 ,
            1100.26 ,
            1083.83 ,
            1086.2 ,
            1092.46 ,
            1124.71 ,
            1126.8 ,
            1109.88 ,
            1108.44 ,
            1092.16 ,
            1099.02 ,
            1108.93 ,
            1100.55 ,
            1078.61 ,
            1085.19 ,
            1083.91 ,
            1076.34 ,
            1086.32 ,
            1096.81 ,
            1089.6 ,
            1099.68 ,
            1099.06 ,
            1102.7 ,
            1107.29 ,
            1111.24 ,
            1107.11 ,
            1110.66 ,
            1111.96 ,
            1087.03 ,
            1096.16 ,
            1102.65 ,
            1119.56 ,
            1124.17 ,
            1121.17 ,
            1123.25 ,
            1145.24 ,
            1143.51 ,
            1145.03 ,
            1160.71 ,
            1153.71 ,
            1152.41 ,
            1150.49 ,
            1165.7 ,
            1178.35 ,
            1174.7 ,
            1189.29 ,
            1180.43 ,
            1192.73 ,
            1205.37 ,
            1210.41 ,
            1211.51 ,
            1198.32 ,
            1190.63 ,
            1144.45 ,
            1152.63 ,
            1126.99 ,
            1112.37 ,
            1133.59 ,
            1150.71 ,
            1167.65 ,
            1180.02 ,
            1191.96 ,
            1231.54 ,
            1243.0 ,
            1279.22 ,
            1271.75 ,
            1291.29 ,
            1292.99 ,
            1259.72 ,
            1294.72 ,
            1313.02 ,
            1323.95 ,
            1314.25 ,
            1320.98 ,
            1325.47 ,
            1342.49 ,
            1328.73 ,
            1283.58 ,
            1325.29 ,
            1325.49 ,
            1330.85 ,
            1330.87 ,
            1329.9 ,
            1339.89 ,
            1350.32 ,
            1353.36 ,
            1370.7 ,
            1388.55 ,
            1395.4 ,
            1392.45 ,
            1399.36 ,
            1408.32 ,
            1384.43 ,
            1404.97 ,
            1417.66 ,
            1426.0 ,
            1426.03 ,
            1439.29 ,
            1459.69 ,
            1479.91 ,
            1476.72 ,
            1495.43 ,
            1489.56 ,
            1505.42 ,
            1522.24 ,
            1540.61 ,
            1536.19 ,
            1549.53 ,
            1559.28 ,
            1546.6 ,
            1524.49 ,
            1556.77 ,
            1565.01 ,
            1569.35 ,
            1551.57 ,
            1542.45 ,
            1540.21 ,
            1536.11 ,
            1467.0 ,
            1498.32 ,
            1473.45 ,
            1492.45 ,
            1511.43 ,
            1533.55 ,
            1534.9 ,
            1527.17 ,
            1534.91 ,
            1544.05 ,
            1547.11 ,
            1545.59 ,
            1538.44 ,
            1562.49 ,
            1542.82 ,
            1540.59 ,
            1546.41 ,
            1560.34 ,
            1550.61 ,
            1517.86 ,
            1483.02 ,
            1488.21 ,
            1471.39 ,
            1527.45 ,
            1528.82 ,
            1531.05 ,
            1538.04 ,
            1541.98 ,
            1530.27 ,
            1549.15 ,
            1564.94 ,
            1556.49 ,
            1557.39 ,
            1555.47 ,
            1570.42 ,
            1562.11 ,
            1550.93 ,
            1528.99 ,
            1379.25 ,
            1377.43 ,
            1413.86 ,
            1394.36 ,
            1382.15 ,
            1392.57 ,
            1395.79 ,
            1391.73 ,
            1426.56 ,
            1430.19 ,
            1442.06 ,
            1420.59 ,
            1417.89 ,
            1416.55 ,
            1393.24 ,
            1375.91 ,
            1378.37 ,
            1409.19 ,
            1407.76 ,
            1408.14 ,
            1377.23 ,
            1365.27 ,
            1330.48 ,
            1345.15 ,
            1374.0 ,
            1392.0 ,
            1385.91 ,
            1401.52 ,
            1397.82 ,
            1421.15 ,
            1416.25 ,
            1420.0 ,
            1427.73 ,
            1441.33 ,
            1460.9 ,
            1444.87 ,
            1441.33 ,
            1454.25 ,
            1459.57 ,
            1449.82 ,
            1451.84 ,
            1452.18 ,
            1400.22 ,
            1427.06 ,
            1415.03 ,
            1422.06 ,
            1420.49 ,
            1432.04 ,
            1430.73 ,
            1428.13 ,
            1432.93 ,
            1447.08 ,
            1447.59 ,
            1449.17 ,
            1456.68 ,
            1460.86 ,
            1454.25 ,
            1442.56 ,
            1431.31 ,
            1414.15 ,
            1391.06 ,
            1398.52 ,
            1409.85 ,
            1402.35 ,
            1410.79 ,
            1391.86 ,
            1373.25 ,
            1371.67 ,
            1356.34 ,
            1372.78 ,
            1376.67 ,
            1392.64 ,
            1382.58 ,
            1390.58 ,
            1372.98 ,
            1378.28 ,
            1356.96 ,
            1346.84 ,
            1367.25 ,
            1363.28 ,
            1351.59 ,
            1349.11 ,
            1359.55 ,
            1360.75 ,
            1391.64 ,
            1392.91 ,
            1399.65 ,
            1408.81 ,
            1413.8 ,
            1431.78 ,
            1434.76 ,
            1432.61 ,
            1437.46 ,
            1410.87 ,
            1444.46 ,
            1447.64 ,
            1455.25 ,
            1461.69 ,
            1449.59 ,
            1439.86 ,
            1444.63 ,
            1459.33 ,
            1465.89 ,
            1453.3 ,
            1448.52 ,
            1458.23 ,
            1472.07 ,
            1474.13 ,
            1479.12 ,
            1468.67 , 1474.72 , 1454.74 ,
            1433.85 , 1452.67 ,
            1438.72 , 1438.28 , 1434.43 , 1435.82 )
        var i = 0
        for(a in arrayname3){
            dataEntries.add(Entry(i.toFloat(),a.toFloat()))
            i += 1
        }
        var lineDataSet1 = LineDataSet(dataEntries,"Data Set")
        var data = LineData(lineDataSet1)

        lineChart.setData(data)
        lineChart.invalidate()
    }

}